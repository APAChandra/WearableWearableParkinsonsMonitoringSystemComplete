<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>WearableProject_Complete: com.google.devrel.wcl.connectivity.WearFileTransfer Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../recon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">WearableProject_Complete
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">Movement monitoring using Moto360 watch and other tests for parkinsons</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>com</b></li><li class="navelem"><b>google</b></li><li class="navelem"><b>devrel</b></li><li class="navelem"><b>wcl</b></li><li class="navelem"><b>connectivity</b></li><li class="navelem"><a class="el" href="../../d3/dfd/classcom_1_1google_1_1devrel_1_1wcl_1_1connectivity_1_1WearFileTransfer.html">WearFileTransfer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="../../d3/d33/classcom_1_1google_1_1devrel_1_1wcl_1_1connectivity_1_1WearFileTransfer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">com.google.devrel.wcl.connectivity.WearFileTransfer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><b>Builder</b></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d34/interfacecom_1_1google_1_1devrel_1_1wcl_1_1connectivity_1_1WearFileTransfer_1_1OnChannelReadyListener.html">OnChannelReadyListener</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dfc/interfacecom_1_1google_1_1devrel_1_1wcl_1_1connectivity_1_1WearFileTransfer_1_1OnChannelTransferProgressListener.html">OnChannelTransferProgressListener</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/interfacecom_1_1google_1_1devrel_1_1wcl_1_1connectivity_1_1WearFileTransfer_1_1OnFileTransferRequestListener.html">OnFileTransferRequestListener</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d29/interfacecom_1_1google_1_1devrel_1_1wcl_1_1connectivity_1_1WearFileTransfer_1_1OnWearableChannelOutputStreamListener.html">OnWearableChannelOutputStreamListener</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abdabe46833a251759e295e4de2cc3c95"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dfd/classcom_1_1google_1_1devrel_1_1wcl_1_1connectivity_1_1WearFileTransfer.html#abdabe46833a251759e295e4de2cc3c95">startTransfer</a> ()</td></tr>
<tr class="separator:abdabe46833a251759e295e4de2cc3c95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa99afe911b451e3689ad5163218337d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dfd/classcom_1_1google_1_1devrel_1_1wcl_1_1connectivity_1_1WearFileTransfer.html#aa99afe911b451e3689ad5163218337d3">requestOutputStream</a> ()</td></tr>
<tr class="separator:aa99afe911b451e3689ad5163218337d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:abaef335a9bc31e88d82a74c4dc0850ba"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abaef335a9bc31e88d82a74c4dc0850ba"></a>
static final String&#160;</td><td class="memItemRight" valign="bottom"><b>PARAM_NAME</b> = &quot;name&quot;</td></tr>
<tr class="separator:abaef335a9bc31e88d82a74c4dc0850ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af77b2bd223527b4fbcd9e24f518b01d9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af77b2bd223527b4fbcd9e24f518b01d9"></a>
static final String&#160;</td><td class="memItemRight" valign="bottom"><b>PARAM_SIZE</b> = &quot;size&quot;</td></tr>
<tr class="separator:af77b2bd223527b4fbcd9e24f518b01d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19026824640f32875851a0eb7db5fd05"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a19026824640f32875851a0eb7db5fd05"></a>
static final String&#160;</td><td class="memItemRight" valign="bottom"><b>PARAM_REQUEST_ID</b> = &quot;request-id&quot;</td></tr>
<tr class="separator:a19026824640f32875851a0eb7db5fd05"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A helper class to facilitate the transfer of a file or bytes across the wearable network. For a pure file transfer, clients should use a pattern similar to the following:</p>
<p>On the sender side: </p><pre>
<a class="el" href="../../d3/dfd/classcom_1_1google_1_1devrel_1_1wcl_1_1connectivity_1_1WearFileTransfer.html">WearFileTransfer</a> fileTransfer = new WearFileTransfer.Builder(targetNode)
    .setTargetName(targetFileName)
    .setFile(fileToBeSent))
    .setOnFileTransferResultListener(myResultListener)
    .build();
fileTransfer.transfer();
</pre><p> On the receiver end, the library handles the rest and saves the file in the private data storage for the app, under the "targetFileName". If the receiver node wants to be notified that a file has been received and saved successfully, they can register a WearConsumer listener and override <a class="el" href="../../df/db4/interfacecom_1_1google_1_1devrel_1_1wcl_1_1callbacks_1_1WearConsumer.html#a5dbc5ac2372eb9f0833ae5ebfb0a2c9c">WearConsumer#onWearableFileReceivedResult(int, String, File, String)</a> which includes the status, the unique requestId for the transfer, the File object pointing to the saved file and the original name of the file on the sender side: </p><pre>
mWearConsumer = new AbstractWearConsumer() {</pre><pre>    public void onWearableFileReceivedResult(int statusCode, String requestId,
            File savedFile, String originalName) {
        Log.d(TAG, String.format(
            "File Received: status=%d, requestId=%s, savedLocation=%s, originalName=%s",
            statusCode, requestId, savedFile.getAbsolutePath(), originalName));
    }
}
</pre><p> It is also possible to use low-level apis based on <a class="el" href="../../">com.google.android.gms.wearable.ChannelApi</a> to open a channel and create an <a class="el" href="../../">OutputStream</a> on the sender side and and <a class="el" href="../../">java.io.InputStream</a> on the other side to transfer data. This can be done by following a pattern similar to this:</p>
<p>On the sender side: </p><pre>
<a class="el" href="../../d3/dfd/classcom_1_1google_1_1devrel_1_1wcl_1_1connectivity_1_1WearFileTransfer.html">WearFileTransfer</a> fileTransfer = new WearFileTransfer.Builder(targetNode)
       .setOnChannelOutputStreamListener(listener)
       .build();
fileTransfer.requestOutputStream();
</pre><p> The <a class="el" href="../../d8/d29/interfacecom_1_1google_1_1devrel_1_1wcl_1_1connectivity_1_1WearFileTransfer_1_1OnWearableChannelOutputStreamListener.html#abcb9123c27d9ece5365b99571a708f60">WearConsumer#onOutputStreamForChannelReady(int, Channel, OutputStream)</a> listener will receive a reference to the status for this request, a channel and an <a class="el" href="../../">OutputStream</a> to write to. On the receiver side, the library can inform the client that a channel has been opened and a callback will provide a reference to the channel and the <a class="el" href="../../">java.io.InputStream</a> that the client can use to receive the data: </p><pre>
mWearConsumer = new AbstractWearConsumer() {
<pre class="fragment">    public void onWearableInputStreamForChannelOpened(int statusCode, String requestId,
        Channel channel, InputStream inputStream) {
            //get the data from the inputStream ..
    }
</pre>
}
</pre> </div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa99afe911b451e3689ad5163218337d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.google.devrel.wcl.connectivity.WearFileTransfer.requestOutputStream </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opens a channel and an <a class="el" href="../../">OutputStream</a> to transfer data. If the intention is to transfer a file, it is recommended to use <a class="el" href="../../d3/dfd/classcom_1_1google_1_1devrel_1_1wcl_1_1connectivity_1_1WearFileTransfer.html#abdabe46833a251759e295e4de2cc3c95">startTransfer()</a> method instead. Using this api, the sender client needs to use <a class="el" href="../../df/db4/interfacecom_1_1google_1_1devrel_1_1wcl_1_1callbacks_1_1WearConsumer.html#ab3785816c06c30602573a978fd869da8">WearConsumer#onWearableInputStreamForChannelOpened</a> listener to receive an <a class="el" href="../../">java.io.InputStream</a> for writing data to. On the receiver node, the client has to register to <a class="el" href="../../d8/d29/interfacecom_1_1google_1_1devrel_1_1wcl_1_1connectivity_1_1WearFileTransfer_1_1OnWearableChannelOutputStreamListener.html#abcb9123c27d9ece5365b99571a708f60">WearConsumer#onOutputStreamForChannelReady(int, Channel, OutputStream)</a> to be notified when an <a class="el" href="../../">java.io.InputStream</a> is available to read the bytes from. </p>

</div>
</div>
<a class="anchor" id="abdabe46833a251759e295e4de2cc3c95"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.google.devrel.wcl.connectivity.WearFileTransfer.startTransfer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initiates the transfer of a file to the target node. Using this method, a file can be transferred without any additional work on the receiver end although the receiver can register a <a class="el" href="../../df/db4/interfacecom_1_1google_1_1devrel_1_1wcl_1_1callbacks_1_1WearConsumer.html#a5dbc5ac2372eb9f0833ae5ebfb0a2c9c">WearConsumer#onWearableFileReceivedResult(int, String, File, String)</a> to be notified when the transfer is completed or when it fails. Using <a class="el" href="../../df/db4/interfacecom_1_1google_1_1devrel_1_1wcl_1_1callbacks_1_1WearConsumer.html#a6c975822ee9bce8a0294b8f1ca1ae838">WearConsumer#onWearableSendFileResult(int, String)</a>, the sender node can also learn about the status of the file transfer request. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>WearableProject_Complete/WearCompanionLibrary/WCL/src/main/java/com/google/devrel/wcl/connectivity/WearFileTransfer.java</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
